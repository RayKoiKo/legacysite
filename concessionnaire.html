<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>LegacyLife – Concessionnaire</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>
<body>
<header class="main-header small">
    <nav class="nav">
        <div class="nav-left">
            <img src="legacylife.png" alt="Logo LegacyLife" class="logo">
            <span class="brand-name">LegacyLife</span>
        </div>
        <ul class="nav-links">
            <li><a href="index.html">Accueil</a></li>
            <li><a href="concessionnaire.html" class="active">Concessionnaire</a></li>
            <li><a href="whitelist.html">Whitelist</a></li>
            <li><a href="changelog.html">Changelog</a></li>
            <li><a href="reglement.html">Règlement RP</a></li>
            <li><a href="index.html#rejoindre">Rejoindre</a></li>
            <li><a href="admin.html">Admin</a></li>
        </ul>
    </nav>
</header>

<main class="section">
    <h1 class="section-title">Concessionnaire LegacyLife</h1>
    <p class="section-subtitle">
        Consulte la liste des véhicules disponibles. Passe ta souris sur une voiture
        pour afficher ses <strong>performances</strong> et <strong>statistiques</strong>.
    </p>

    <div class="search-sort-row">
        <div class="search-box">
            <input type="text" id="carSearch" placeholder="Rechercher un véhicule (nom)...">
        </div>
        <div class="sort-box">
            <select id="carSort">
                <option value="default">Tri : défaut</option>
                <option value="priceAsc">Prix croissant</option>
                <option value="priceDesc">Prix décroissant</option>
                <option value="nameAsc">Nom A → Z</option>
                <option value="nameDesc">Nom Z → A</option>
            </select>
        </div>
    </div>

    <div class="filters">
        <button class="filter-btn active" data-category="all">Tous</button>
        <button class="filter-btn" data-category="citadine">Citadines</button>
        <button class="filter-btn" data-category="sportive">Sportives</button>
        <button class="filter-btn" data-category="luxe">Luxe</button>
        <button class="filter-btn" data-category="moto">Moto</button>
    </div>

    <p class="cars-count"><span id="visibleCount"></span> véhicule(s) affiché(s)</p>

    <div class="cars-grid" id="carsGrid">

        <article class="car-card" data-name="Elegy RH8" data-category="sportive" data-price="65000">
            <div class="car-thumb">
                <span class="car-category">Sportive</span>
                <h2 class="car-name">Elegy RH8</h2>
            </div>
            <div class="car-base-info">
                <p>Prix: <strong>$65 000</strong></p>
                <p>Type: Propulsion</p>
            </div>
            <div class="car-stats">
                <h3>Statistiques</h3>
                <ul>
                    <li>Vitesse max : 310 km/h</li>
                    <li>Accélération : 8.5 / 10</li>
                    <li>Freinage : 7 / 10</li>
                    <li>Tenue de route : 8 / 10</li>
                </ul>
            </div>
        </article>

        <article class="car-card" data-name="Blista Compact" data-category="citadine" data-price="12500">
            <div class="car-thumb">
                <span class="car-category">Citadine</span>
                <h2 class="car-name">Blista Compact</h2>
            </div>
            <div class="car-base-info">
                <p>Prix: <strong>$12 500</strong></p>
                <p>Type: Traction</p>
            </div>
            <div class="car-stats">
                <h3>Statistiques</h3>
                <ul>
                    <li>Vitesse max : 165 km/h</li>
                    <li>Accélération : 5 / 10</li>
                    <li>Freinage : 6 / 10</li>
                    <li>Tenue de route : 7 / 10</li>
                </ul>
            </div>
        </article>

        <article class="car-card" data-name="Paragon" data-category="luxe" data-price="210000">
            <div class="car-thumb">
                <span class="car-category">Luxe</span>
                <h2 class="car-name">Paragon</h2>
            </div>
            <div class="car-base-info">
                <p>Prix: <strong>$210 000</strong></p>
                <p>Type: 4x4</p>
            </div>
            <div class="car-stats">
                <h3>Statistiques</h3>
                <ul>
                    <li>Vitesse max : 290 km/h</li>
                    <li>Accélération : 9 / 10</li>
                    <li>Freinage : 8 / 10</li>
                    <li>Tenue de route : 8 / 10</li>
                </ul>
            </div>
        </article>

        <article class="car-card" data-name="Bati 801" data-category="moto" data-price="35000">
            <div class="car-thumb">
                <span class="car-category">Moto</span>
                <h2 class="car-name">Bati 801</h2>
            </div>
            <div class="car-base-info">
                <p>Prix: <strong>$35 000</strong></p>
                <p>Type: Moto sportive</p>
            </div>
            <div class="car-stats">
                <h3>Statistiques</h3>
                <ul>
                    <li>Vitesse max : 320 km/h</li>
                    <li>Accélération : 9 / 10</li>
                    <li>Freinage : 7 / 10</li>
                    <li>Tenue de route : 6 / 10</li>
                </ul>
            </div>
        </article>

        <article class="car-card" data-name="Sultan RS" data-category="sportive" data-price="80000">
            <div class="car-thumb">
                <span class="car-category">Sportive</span>
                <h2 class="car-name">Sultan RS</h2>
            </div>
            <div class="car-base-info">
                <p>Prix: <strong>$80 000</strong></p>
                <p>Type: 4x4 sportif</p>
            </div>
            <div class="car-stats">
                <h3>Statistiques</h3>
                <ul>
                    <li>Vitesse max : 285 km/h</li>
                    <li>Accélération : 8 / 10</li>
                    <li>Freinage : 8 / 10</li>
                    <li>Tenue de route : 9 / 10</li>
                </ul>
            </div>
        </article>

    </div>
</main>

<footer class="footer">
    <div class="footer-inner">
        <div class="footer-col brand">
            <div class="footer-logo-row">
                <img src="legacylife.png" alt="Logo LegacyLife" class="footer-logo">
                <span class="footer-brand-name">LegacyLife</span>
            </div>
            <p>Serveur FiveM roleplay francophone, orienté sérieux mais fun, avec économie travaillée et staff à l’écoute.</p>
        </div>
        <div class="footer-col">
            <h4>Serveur</h4>
            <p>IP FiveM : <code>fivem://connect ton.ip.ici:30120</code></p>
            <p>Nom en jeu : <strong>LegacyLife RP</strong></p>
        </div>
        <div class="footer-col">
            <h4>Communauté</h4>
            <p>Discord : <a href="#">discord.gg/legacylife</a></p>
            <p>TikTok : <a href="#">@LegacyLifeRP</a></p>
            <p>YouTube : <a href="#">LegacyLife RP</a></p>
        </div>
        <div class="footer-col">
            <h4>Liens rapides</h4>
            <p><a href="index.html">Accueil</a></p>
            <p><a href="concessionnaire.html">Concessionnaire</a></p>
            <p><a href="whitelist.html">Whitelist</a></p>
            <p><a href="admin.html">Panel admin</a></p>
        </div>
    </div>
    <p class="footer-bottom">© <span id="year"></span> LegacyLife Roleplay – Tous droits réservés.</p>
</footer>

<script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const filterButtons = document.querySelectorAll('.filter-btn');
    const carCards = Array.from(document.querySelectorAll('.car-card'));
    const carsGrid = document.getElementById('carsGrid');
    const carSearch = document.getElementById('carSearch');
    const carSort = document.getElementById('carSort');
    const visibleCount = document.getElementById('visibleCount');

    let currentCategory = 'all';

    function applyFiltersAndSort() {
        const searchTerm = carSearch.value.trim().toLowerCase();
        const sortMode = carSort.value;

        // Filtre + liste des visibles
        let visibleCards = [];
        carCards.forEach(card => {
            const name = (card.dataset.name || '').toLowerCase();
            const category = (card.dataset.category || '').toLowerCase();

            const matchCategory = currentCategory === 'all' || category === currentCategory;
            const matchSearch = !searchTerm || name.includes(searchTerm);

            if (matchCategory && matchSearch) {
                card.style.display = '';
                visibleCards.push(card);
            } else {
                card.style.display = 'none';
            }
        });

        // Tri des visibles
        const sorted = [...visibleCards];
        sorted.sort((a, b) => {
            if (sortMode === 'priceAsc' || sortMode === 'priceDesc') {
                const pa = parseInt(a.dataset.price || '0', 10);
                const pb = parseInt(b.dataset.price || '0', 10);
                if (sortMode === 'priceAsc') return pa - pb;
                if (sortMode === 'priceDesc') return pb - pa;
            }

            if (sortMode === 'nameAsc' || sortMode === 'nameDesc') {
                const na = (a.dataset.name || '').toLowerCase();
                const nb = (b.dataset.name || '').toLowerCase();
                if (na < nb) return sortMode === 'nameAsc' ? -1 : 1;
                if (na > nb) return sortMode === 'nameAsc' ? 1 : -1;
                return 0;
            }

            return 0; // mode défaut : pas de tri particulier
        });

        // Réinjection dans le DOM
        sorted.forEach(card => carsGrid.appendChild(card));

        // Compteur
        visibleCount.textContent = visibleCards.length;
    }

    filterButtons.forEach(btn => {
        btn.addEventListener('click', () => {
            filterButtons.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            currentCategory = btn.dataset.category || 'all';
            applyFiltersAndSort();
        });
    });

    carSearch.addEventListener('input', applyFiltersAndSort);
    carSort.addEventListener('change', applyFiltersAndSort);

    // Init
    applyFiltersAndSort();
</script>
</body>
</html>
